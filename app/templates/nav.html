<header class="py-1 sticky-top bg-white border-bottom shadow-sm">
  <nav class="navbar navbar-expand-lg bg-white">
    <div class="container">
      
      <a href="/" class="d-flex align-items-center link-body-emphasis text-decoration-none">
        <div class="bg-primary bg-gradient rounded-3 p-2 me-2 d-flex align-items-center shadow-sm">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="white" class="bi bi-wallet2" viewBox="0 0 16 16">
            <path d="M12.136.326A1.5 1.5 0 0 1 14 1.78V3h.5A1.5 1.5 0 0 1 16 4.5v9a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 13.5v-9a1.5 1.5 0 0 1 1.5-1.5H2V1.78a1.5 1.5 0 0 1 1.864-1.454L12.136.326zM14 12.5V4.5h-13v9h13v-1z"/>
          </svg>
        </div>
        <span class="fs-4 fw-bold tracking-tight text-dark">SmartSpend<span class="text-primary">.</span></span>
      </a>

      <button class="navbar-toggler border-0 shadow-none" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarContent">
        <ul class="navbar-nav mx-auto mb-2 mb-lg-0 py-2 py-lg-0">
          {% if current_user.is_authenticated %}
          <li class="nav-item">
            <a href="{{url_for('main.dashboard')}}" class="nav-link px-3 fw-semibold {{ 'active text-primary' if request.path == url_for('main.dashboard') else 'text-muted' }}">Dashboard</a>
          </li>
          {% else %}
          <li class="nav-item"><a href="/" class="nav-link px-3 fw-semibold {{ 'active text-primary' if request.path == url_for('main.index') else 'text-muted' }}" >Home</a></li>
          <li class="nav-item"><a href="{{url_for('main.features')}}" class="nav-link px-3 fw-semibold {{ 'active text-primary' if request.path == url_for('main.features') else 'text-muted' }}">Features</a></li>
          <li class="nav-item"><a href="{{url_for('main.contact')}}" class="nav-link px-3 fw-semibold {{ 'active text-primary' if request.path == url_for('main.contact') else 'text-muted' }}">Contact Us</a></li>
          {% endif %}
        </ul>

        <div class="d-flex flex-column flex-lg-row align-items-lg-center pt-2 pt-lg-0 border-lg-0 mt-2 mt-lg-0">
          {% if current_user.is_authenticated %}
            <div class="dropdown">
              <button class="btn btn-light rounded-pill px-3 py-2 d-flex align-items-center border shadow-sm dropdown-toggle w-100 w-lg-auto" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                <div class="bg-primary-subtle rounded-circle me-2 d-flex align-items-center justify-content-center" style="width: 24px; height: 24px;">
                  <i class="bi bi-person-fill text-primary" style="font-size: 0.9rem;"></i>
                </div>
                <span class="fw-semibold small me-1 text-dark">{{ current_user.username }}</span>
              </button>
              <ul class="dropdown-menu dropdown-menu-end shadow-lg border-0 mt-lg-2">
                <li><h6 class="dropdown-header">Manage Account</h6></li>
                <li><a class="dropdown-item py-2" href="#"><i class="bi bi-gear me-2 text-muted"></i>Settings</a></li>
                <li><hr class="dropdown-divider"></li>
                <li>
                    <a class="dropdown-item py-2 text-danger" href="{{url_for('main.logout')}}">
                        <i class="bi bi-box-arrow-right me-2"></i>Logout
                    </a>
                </li>
              </ul>
            </div>
          {% else %}
            <a href="{{url_for('main.login')}}" class="btn btn-link link-dark text-decoration-none fw-semibold mb-2 mb-lg-0 me-lg-3">Sign In</a>
            <a href="{{url_for('main.sign_up')}}" class="btn btn-primary px-4 py-2 fw-bold rounded-pill shadow-sm">Sign up</a>
          {% endif %}
        </div>
      </div>
      
    </div>
  </nav>
</header>